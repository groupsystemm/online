{% extends "layout.html" %}
{% block title %}Submit Grade with Course{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2 class="mb-4 text-center">➕ Submit Course & 📝 Grade Together</h2>

  {% if message %}
    <div class="alert alert-success">{{ message }}</div>
  {% elif error %}
    <div class="alert alert-danger">{{ error }}</div>
  {% endif %}

  <form method="POST" class="border p-4 rounded shadow bg-white">
    <h5 class="mb-3">Course Information</h5>
    <div class="mb-3">
      <label>Course Name:</label>
      <input type="text" name="course_name" class="form-control" required>
    </div>
    <div class="mb-3">
      <label>Course Code:</label>
      <input type="text" name="course_code" class="form-control" required>
    </div>
    <div class="mb-3">
      <label>Department:</label>
      <select name="department_id" class="form-select" required>
        <option value="" disabled selected>Select Department</option>
        {% for dept in departments %}
        <option value="{{ dept.id }}">{{ dept.name }}</option>
        {% endfor %}
      </select>
    </div>

    <hr>

    <h5 class="mb-3">Grade Information</h5>
    <div class="mb-3">
      <label>Student:</label>
      <select name="student_id" class="form-select" required>
        <option value="" disabled selected>Select Student</option>
        {% for stu in students %}
        <option value="{{ stu.id }}">{{ stu.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="mb-3">
      <label>Grade:</label>
      <input type="text" name="grade" class="form-control" required>
    </div>

    <button type="submit" class="btn btn-primary">✅ Submit All</button>
  </form>
</div>
{% endblock %}
